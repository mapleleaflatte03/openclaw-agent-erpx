# Local dev defaults (DO NOT use in prod).

AGENT_ENV=dev
LOG_LEVEL=INFO

# Agent DB
AGENT_DB_DSN=postgresql+psycopg://agent:agentpass@postgres:5432/agent

# Redis/Celery
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# ERPX Mock
ERPX_BASE_URL=http://erpx-mock-api:8001
ERPX_TOKEN=dev-erpx-token

# Agent API auth (optional)
AGENT_AUTH_MODE=none
AGENT_API_KEY=dev-agent-key

# MinIO (S3)
MINIO_ENDPOINT=minio:9000
MINIO_REGION=sgp1
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET_ATTACHMENTS=agent-attachments
MINIO_BUCKET_EXPORTS=agent-exports
MINIO_BUCKET_EVIDENCE=agent-evidence
MINIO_BUCKET_KB=agent-kb
MINIO_BUCKET_DROP=agent-drop

# Scheduler
AGENT_BASE_URL=http://agent-service:8000

# Rate limit / retry
ERPX_RATE_LIMIT_QPS=5
ERPX_TIMEOUT_SECONDS=15
ERPX_RETRY_MAX_ATTEMPTS=5
ERPX_RETRY_BASE_SECONDS=0.5
ERPX_RETRY_MAX_SECONDS=10

TASK_RETRY_MAX_ATTEMPTS=3
TASK_RETRY_BACKOFF_SECONDS=2

# Matching/OCR
MATCH_CONFIDENCE_THRESHOLD=0.85
OCR_TIMEOUT_SECONDS=40
OCR_PDF_MAX_PAGES=3

# Contract obligations (product-mode gating)
OBLIGATION_CONFIDENCE_THRESHOLD=0.8
OBLIGATION_REQUIRED_FIELDS=strict
OBLIGATION_CONFLICT_POLICY=drop_to_tier2
OBLIGATION_PRIMARY_SOURCE_WEIGHT=1.0

# SMTP (optional; when unset, reminders are logged-only)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=accounting@example.local
SMTP_TLS=true
